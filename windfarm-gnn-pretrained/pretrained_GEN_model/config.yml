# settings for executing the run
run_settings:
  validate: True    # if the model should be validated
  num_t_workers: 8  # num of workers for the train set dataloader
  num_v_workers: 6  # num of workers for the validation set dataloader
  log_experiment: True # if the training experiment should be logged in comet

# settings that handle the io
io_settings:
  comet_project: 'wakeGNN_ft'
  train_dataset_path:  './datasets/new_train_set/delaunay'
  valid_dataset_path:  './datasets/new_valid_set/delaunay'
  run_dir: './runs'     # path to the save directory for model saving
  save_epochs: 10       # number of epochs between model saves
  pretrained_model: ''  # leave empty string if not using pretrained model

# training hyperparameters
hyperparameters:
  epochs: 150             # number of epochs
  start_lr: 1e-3          # initial learning rate
  lr_decay_gamma: 0.96    # exponential learning rate decay factor
  lr_decay_stop: 100      # decay the learning rate up until this epoch
  batch_size: 100         # number of graphs per batch
  glob_loss_factor: 1.0   # hyperparameter to balance learning of the globals
  norm_type: 'mean_std'   # type of normalization to use, either 'mean_std' or 'min_max'
  rel_wd: True            # if the relative wind direction should be added as an edge feature

# model architecture settings
model_settings:
  node_latent_dim: 250  # dimension of the latent node features (N)
  edge_latent_dim: 250  # dimension of the latent edge features (N)
  glob_latent_dim: 250  # dimension of the latent globals features (N)

  encoder_settings:
    node_enc_mlp_layers: [250, 250] # list of hidden layer dimensions for the node encoder MLP
    edge_enc_mlp_layers: [250, 250] # list of hidden layer dimensions for the edge encoder MLP
    glob_enc_mlp_layers: [250, 250] # list of hidden layer dimensions for the globals encoder MLP
    dropout: 0.05       # dropout value to set in the encoder

  processor_settings:
    mp_type: 'GEN'     # choose the message-passing architecture, choice between GAT, GEN and GINE
    num_mp_steps: 4    # number of message-passing steps (L)
    dropout: 0.0       # dropout value to set in the processor
    mp_aggr: 'softmax' # for the GEN architecture, choose from ["softmax", "powermean", "add", "mean", 'max']

  decoder_settings:
    node_dec_mlp_layers: [250, 250] # list of hidden layer dimensions for the node decoder MLP
    glob_dec_mlp_layers: [250, 250] # list of hidden layer dimensions for the globals encoder MLP
    dropout: 0.0       # dropout value to set in the decoder
